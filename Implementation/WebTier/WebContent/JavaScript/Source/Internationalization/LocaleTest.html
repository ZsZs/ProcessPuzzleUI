<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Test page for Locale.js</title>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <script type="text/javascript"  src="../JsUnit/app/jsUnitCore.js"></script>
    <script type="text/javascript"  src="../MooTools/mootools-core-1.3.js"></script>

    <script type="text/javascript"  src="../CommonScripts/AssertUtil.js"></script>
    <script type="text/javascript"  src="../CommonScripts/UserException.js"></script>
    <script type="text/javascript"  src="../FundamentalTypes/StringTokenizer.js"></script>
    <script type="text/javascript"  src="../Internationalization/Locale.js"></script>

    <script type="text/javascript" >
		window.addEvent('domready', function() {
			runTestFunction();
		});
  	
		var LANGUAGE = "hu";
		var COUNTRY = "HU";
		var locale;

		function setUp() {
			locale = new Locale( {language:LANGUAGE, country:COUNTRY} );
		}

		function tearDown() {
			locale = null;
		}

		function testLocale() {
			assertEquals( LANGUAGE, locale.getLanguage() );
			assertEquals( COUNTRY, locale.getCountry() );
		}
      
		function testLocaleWithoutOptions() {
			locale = new Locale();
			assertEquals( "Language default is:", "en", locale.getLanguage() );
			assertNull( "Country default is null.",locale.getCountry() );
			assertNull( "Variant default is null", locale.getVariant() );
		}
		
		function testParse() {
			var locale = new Locale();
			locale.parse( "en, GB, EURO" );
			assertEquals( "en", locale.getLanguage() );
			assertEquals( "GB",locale.getCountry() );
			assertEquals( "EURO", locale.getVariant() );
		}
      
		//runs a test function during debugging
		function runTestFunction(){
			setUp();
		    testParse();
			tearDown();
		}
	</script>
</head>

<body>
    <h1>Locale.js test page</h1>
</body>
</html>
